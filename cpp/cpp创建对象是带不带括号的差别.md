# C++对象创建方式总结

## 栈上对象创建
1. **直接声明**  
   `cat c1;`  
   - 在栈上创建完整对象
   - 调用默认构造函数
   - 对象生命周期随作用域结束自动销毁

2. **带参数构造**  
   `cat c3("first", 1);`  
   - 在栈上创建完整对象
   - 调用匹配参数的构造函数
   - 对象生命周期随作用域结束自动销毁

3. **常见陷阱**  
   `cat c2();`  
   - 这是函数声明而非对象创建
   - 声明了一个返回cat对象的无参函数
   - 不会创建任何对象

## 堆上对象创建(动态内存分配)
1. **基本new操作**  
   `cat *pc1 = new cat;`  
   `cat *pc2 = new cat();`  
   - 在堆上分配内存并创建对象
   - 两者都调用默认构造函数
   - 需要手动delete释放内存

2. **带参数构造**  
   `cat *pc3 = new cat("second", 2);`  
   - 在堆上分配内存并创建对象
   - 调用匹配参数的构造函数
   - 需要手动delete释放内存

## 关键区别
| 特性        | 栈上对象            | 堆上对象            |
|------------|--------------------|--------------------|
| 内存分配    | 自动(栈空间)        | 手动(堆空间)        |
| 生命周期    | 作用域结束自动销毁  | 需手动delete释放    |
| 访问方式    | 直接访问            | 通过指针访问        |
| 分配速度    | 快                 | 相对慢             |
| 大小限制    | 受栈大小限制        | 受系统内存限制      |

**最佳实践建议**：
1. 优先使用栈上对象，除非有特殊需求
2. 使用堆上对象时，务必确保配对delete
3. 考虑使用智能指针(如unique_ptr/shared_ptr)管理堆对象
4. 避免`cat c2();`这种易混淆的写法